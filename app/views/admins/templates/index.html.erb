<header class="top-navbar">
    <div style="display: flex; align-items: center; gap: 15px;">
        <span id="sidebar-toggle" style="cursor: pointer; font-size: 1.6rem;">☰</span>
        <h2 style="font-size: 1.2rem; margin: 0; color: #333;">Gerenciamento - Templates</h2>
    </div>
    <div class="nav-right">
        <input type="text" placeholder="Search" style="border-radius: 47px; border: 1px solid #8E8E8E; padding: 5px 15px; outline: none;">
        <div style="width: 44px; height: 44px; background: #6C2365; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">U</div>
    </div>
</header>

<div class="admin-container">
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-menu">
            <a href="<%= avaliacoes_path %>"> Avaliações</a>
            <a href="<%= admin_management_path %>" class="active">Gerenciamento</a>
        </nav>
    </aside>

    <main class="main-content">

        <% if flash[:notice] %>
        <div style="background: #d4edda; color: #155724; padding: 10px; margin-bottom: 20px; border-radius: 4px; text-align: center;">
            <%= flash[:notice] %>
        </div>
        <% end %>

        <% if @templates.empty? %>

        <div class="cards-grid">
            <%= link_to new_admins_template_path, class: "template-card add-card" do %>
            <span class="plus-sign">+</span>
            <% end %>
        </div>

        <div class="empty-message">
            Nenhum template foi criado
        </div>

        <% else %>

        <div class="cards-grid">
            <% @templates.each do |template| %>
            <div class="template-card">
                <div class="card-title"><%= template.titulo %></div>
                <div class="card-subtitle"><%= template.target_audience || "semestre" %></div>

                <div class="card-icons">
                    <%= link_to edit_template_path(template), class: "icon-btn", title: "Editar" do %>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                    <% end %>

                    <%= button_to template_path(template), method: :delete, class: "icon-btn", form: {style: "display:inline-block;"}, onclick: "return confirm('Você tem certeza que deseja deletar este template?');", title: "Deletar" do %>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    <% end %>
                </div>
            </div>
            <% end %>

            <%= link_to new_template_path, class: "template-card add-card" do %>
            <span class="plus-sign">+</span>
            <% end %>
        </div>

        <% end %>

    </main>
</div>